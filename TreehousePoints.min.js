!function(){var a=window.th=function(a){a.th_id&&a.wrapper&&(a.circle=a.circle||{width:10,radius:60},a.circle.width=a.circle.width||10,a.circle.radius=a.circle.radius||60,this._url="http://teamtreehouse.com/"+a.th_id+".json",this._wrap=a.wrapper,this.circle=a.circle,this.circle.values=[],this.count=0,this.colors={html:"#39ADD1",css:"#2570A8",javascript:"#913B53",ruby:"#E15258",ios:"#53BBB4",business:"#F9845B",android:"#51B46D",php:"#665885",wordpress:"#9D8AC7",design:"#E0AB18","dev tools":"#556B7C",others:"#e2e5e8",none:"#D4D9DD"},this.getJsonProfile())};a.prototype={getJsonProfile:function(){that=this,$.ajax({type:"GET",url:this._url,dataType:"json",success:function(a){a.points&&that.initCircle(a.points)},error:function(a){404==a.status&&$("#"+that._wrap).append("<h3>I think this profile doesn't exist :(</h3>")}})},initCircle:function(a){var b,c,d=0,e="<div class='points_wrap' style='float: left;width: 60%;padding: 10px 0 0 10px;' ><ul style='list-style:none;'>",f="",g="</ul></div>";this.count=a.total,this.circle.id=this._wrap,this.circle.text=this.count,delete a.total,a=this.fixTotal(a);for(b in a)d+=a[b],c=a[b]>0?this.colors[b]:this.colors.none,this.circle.values.push({percent:100*a[b]/this.count,color:c}),f+="<li style='float: left; width: 25%; margin: 2%;'><span class='topic_color' style='width: 15px;height: 15px;background-color: "+c+";float: left;margin: 5px; border-radius: 50%;'></span><span class='points' style='font-weight: bold;'>"+a[b]+"</span><span class='topic' style='font-size: 12px; display: block; color: #999;'>"+b+"</span></li>";new Circle(this.circle),$("#"+this._wrap).append(e+f+g)},fixTotal:function(a){var b=0;for(point in a)b+=a[point];return a.others=this.count-b,a}}}();